<!DOCTYPE html>
<html>
    <head>
        <title>Asterisk Project : Asterisk 12 CDR Specification</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Asterisk Project</a></span>
                            </li>
                                                    <li>
                                <span><a href="Asterisk-12-Documentation_25919697.html">Asterisk 12 Documentation</a></span>
                            </li>
                                                    <li>
                                <span><a href="Asterisk-12-Specifications_25919699.html">Asterisk 12 Specifications</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Asterisk Project : Asterisk 12 CDR Specification
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                                                Added by  mjordan , edited by  mjordan  on Dec 19, 2013
                    </div>
                    <div id="main-content" class="wiki-content group">
                    <p> </p><p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1387570483633 {padding: 0px;}
div.rbtoc1387570483633 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1387570483633 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1387570483633'>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Introduction'>Introduction</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Scope'>Scope</a></li>
<li><a href='#Asterisk12CDRSpecification-Terminology'>Terminology</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-CDROverview'>CDR Overview</a></li>
<li><a href='#Asterisk12CDRSpecification-SemanticsandSyntax'>Semantics and Syntax</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-BasicCDRLifetime'>Basic CDR Lifetime</a></li>
<li><a href='#Asterisk12CDRSpecification-DetailedSemantics'>Detailed Semantics</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-CDRLifetime'>CDR Lifetime</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Creation'>Creation</a></li>
<li><a href='#Asterisk12CDRSpecification-DialingParties'>Dialing Parties</a></li>
<li><a href='#Asterisk12CDRSpecification-Bridging'>Bridging</a></li>
<li><a href='#Asterisk12CDRSpecification-Finalization'>Finalization</a></li>
<li><a href='#Asterisk12CDRSpecification-Dispatch'>Dispatch</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-ChoosingthePartyAchannel'>Choosing the Party A channel</a></li>
<li><a href='#Asterisk12CDRSpecification-LinkedIDPropagation'>LinkedID Propagation</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-Fields'>Fields</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-StandardFields'>Standard Fields</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Dispositions'>Dispositions</a></li>
<li><a href='#Asterisk12CDRSpecification-AMAFlags'>AMA Flags</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-UserDefinedFields'>User Defined Fields</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-Scenarios'>Scenarios</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Unanswered%22Inbound%22Call'>Unanswered &quot;Inbound&quot; Call</a></li>
<li><a href='#Asterisk12CDRSpecification-Unanswered%22Outbound%22Call'>Unanswered &quot;Outbound&quot; Call</a></li>
<li><a href='#Asterisk12CDRSpecification-SingleParty'>Single Party</a></li>
<li><a href='#Asterisk12CDRSpecification-BasicTwoPartyCalls'>Basic Two Party Calls</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-BasicCall'>Basic Call</a></li>
<li><a href='#Asterisk12CDRSpecification-UnansweredDial'>Unanswered Dial</a></li>
<li><a href='#Asterisk12CDRSpecification-ParallelDial'>Parallel Dial</a></li>
<li><a href='#Asterisk12CDRSpecification-CallForward'>Call Forward</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-Transfers'>Transfers</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-BlindTransfer'>Blind Transfer</a></li>
<li><a href='#Asterisk12CDRSpecification-AttendedTransfertoChannel'>Attended Transfer to Channel</a></li>
<li><a href='#Asterisk12CDRSpecification-AttendedTransfertoApplication'>Attended Transfer to Application</a></li>
<li><a href='#Asterisk12CDRSpecification-BlondeTransfer'>Blonde Transfer</a></li>
<li><a href='#Asterisk12CDRSpecification-ThreeWayCall'>Three Way Call</a></li>
<li><a href='#Asterisk12CDRSpecification-SIPAttendedTransfer'>SIP Attended Transfer</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-LocalChannels'>Local Channels</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Non-optimizingLocalChannels'>Non-optimizing Local Channels</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Localchanneltoanapplication'>Local channel to an application</a></li>
<li><a href='#Asterisk12CDRSpecification-Localchannelbetweenbridges'>Local channel between bridges</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-LocalChannelOptimization'>Local Channel Optimization</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-CallHold'>Call Hold</a></li>
<li><a href='#Asterisk12CDRSpecification-CallPark'>Call Park</a></li>
<li><a href='#Asterisk12CDRSpecification-CallQueues'>Call Queues</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-CallQueue-Example1'>Call Queue - Example 1</a></li>
<li><a href='#Asterisk12CDRSpecification-CallQueue-Example2'>Call Queue - Example 2</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-ConferenceCall'>Conference Call</a></li>
<li><a href='#Asterisk12CDRSpecification-AComplexExample'>A Complex Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-AsteriskCDRAPIs'>Asterisk CDR APIs</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Applications'>Applications</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-NoCDR'>NoCDR</a></li>
<li><a href='#Asterisk12CDRSpecification-ForkCDR'>ForkCDR</a></li>
<li><a href='#Asterisk12CDRSpecification-ResetCDR'>ResetCDR</a></li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-Functions'>Functions</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-CDR'>CDR</a></li>
<li><a href='#Asterisk12CDRSpecification-CDR_PROP'>CDR_PROP</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-Example%3ASettingthecalledpartyasPartyAoftheCDR'>Example: Setting the called party as Party A of the CDR</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='#Asterisk12CDRSpecification-Configuration'>Configuration</a>
<ul class='toc-indentation'>
<li><a href='#Asterisk12CDRSpecification-GeneralSettings'>General Settings</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div></p><h1 id="Asterisk12CDRSpecification-Introduction">Introduction</h1><p>Call Detail Records, or CDRs, have been around in Asterisk for a long, long time. In fact, portions of it were taken from the <code>Zapata</code> library, as noted in <code>cdr.c</code>:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: c; gutter: false" style="font-size:12px;"> *
 * \note Includes code and algorithms from the Zapata library.
 *
</pre>
</div></div><p>CDRs have always attempted to provide the billing information between two parties involved in a call. While their simplicity has been a big advantage in quickly deploying a billing system, it has also been their largest disadvantage when trying to express complex scenarios. As Asterisk evolved and adapted to more complex scenarios, it became difficult to express the full details of a call within a single CDR. Compounding this problem, the way in which bridging was performed in Asterisk made call scenarios involving more than two parties incredibly difficult to track and coalesce into one or more CDRs. Numerous attempts were made to address the various problems in CDRs with varying degrees of success.</p><p><span style="line-height: 1.4285715;">In Asterisk 12, changes in the bridging architecture necessitated a substantial upgrade to CDR behavior. The largest changes are:</span></p><ul><li>Individual components in Asterisk no longer modify CDRs directly. CDRs are produced based on the state of the channels and bridges within Asterisk. As a result, there is a much greater degree of consistency in CDRs throughout Asterisk, regardless of the application channels happen to be executing in.</li><li>The behavior of CDRs between multiple parties is now defined.</li><li>Depending on how channels are dialed and bridged, multiple CDRs will be created for a given call. Post-processing of these records <strong>will</strong> be required to determine the overall statistics of the call.</li></ul><p>It is important to note that in <a href="https://wiki.asterisk.org/wiki/display/AST/New+in+1.8#Newin1.8-Newin1.8-ChannelEventLogging">Asterisk 1.8</a>, Channel Event Logging (CEL) was introduced as an alternative to CDRs. Unlike CDRs, where a relatively few records are produced for a call, CEL provides a sequence of events regarding the state of channels within Asterisk. CELs provide substantially more information about what is occurring to the channels involved in a call, thus allowing an Asterisk user to construct their own billing system by handling the events as they choose. While CEL will never supplant CDRs, they are an option if CDRs do not provide the billing information you need or in the format you require. While improvements have been made and some complex scenarios defined in this specification, the fact that CEL can provide a more robust billing system is still true as of Asterisk 12.</p><p>Asterisk Users moving to Asterisk 12 are highly encouraged to read this specification carefully.</p><h2 id="Asterisk12CDRSpecification-Scope">Scope</h2><p><span style="line-height: 1.4285715;">This CDR specification applies to Asterisk 12. It does not cover CDRs in prior versions of Asterisk.</span></p><p>Note that this does not include a comprehensive analysis as to how CDRs can be produced in all call scenarios in Asterisk. It defines the behavior for common scenarios, but certain scenarios are deliberately left unspecified. The behavior of CDRs in said scenarios is <strong>undefined and is not a bug.</strong></p><p>It is known that the behavior of CDRs will not allow all applications to capture the billing requirements for their systems. If CDRs cannot meet the requirements of your application, <a href="5242932.html">Channel Event Logging</a> (CEL) provides call information at a much finer granularity, allowing complex billing systems to be constructed. Please see the <a href="Asterisk-12-CEL-Specification_25919712.html">Asterisk 12 CEL Specification</a> for more information on CEL.</p><h2 id="Asterisk12CDRSpecification-Terminology">Terminology</h2><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Term</p></th><th class="confluenceTh"><p>Definition</p></th></tr><tr><td class="confluenceTd"><p>CDR</p></td><td class="confluenceTd"><p>Call Detail Record. The thing that this document is attempting to describe.</p></td></tr><tr><td class="confluenceTd"><p>CEL</p></td><td class="confluenceTd"><p>Channel Event Logging. An alternative way to get billing information from Asterisk, that is significantly more flexible and powerful than CDRs but requires the billing logic to be completely implemented by the user.</p></td></tr><tr><td class="confluenceTd"><p>Party A</p></td><td class="confluenceTd"><p>A CDR always involves two parties. One party is always chosen as the 'owner' of the CDR. The CDR reflects the view of the call from that party.</p></td></tr><tr><td class="confluenceTd"><p>Party B</p></td><td class="confluenceTd"><p>A CDR always involves two parties. Party B is the target of the call.</p></td></tr><tr><td class="confluenceTd"><p>Stasis</p></td><td class="confluenceTd"><p>Stasis is the internal message bus in Asterisk that conveys state to the CDR engine.</p></td></tr></tbody></table></div><h1 id="Asterisk12CDRSpecification-CDROverview">CDR Overview</h1><p>A CDR is a record of communication between one or two parties. As such, a single CDR always addresses the communication between two parties: a Party A and a Party B. The CDR reflects the view of the call from the perspective of Party A, while Party B is the party that Party A is communicating with. Each CDR includes the following times:</p><ul><li>Start time - the time at which the CDR was created for Party A</li><li>Answer time - the time at which Party A and Party B could begin communicating</li><li>End time - the time at which Party A and Party B could no longer communicate</li></ul><p>From these times, two durations are computed:</p><ul><li>Duration - the End time minus the Start time.</li><li>Billsec - the End time minus the Answer time. (Whether or not you actually bill for this period of time is up to you)</li></ul><p>A single CDR only tracks information about a single path of communication between two endpoints. In many scenarios, there will be multiple paths of communication between multiple parties, even in a single &quot;call&quot;. Each path of communication results in a new CDR, each representing the communication between two endpoints. All of the CDRs involved are associated by virtue of a special linked identifier field, <code>linkedid</code>. The CDRs themselves, however, typically do <strong>not</strong> aggregate the time between records. It is up to billing systems to determine which CDRs should be used for their billing records, and add up the times/durations themselves.</p><h1 id="Asterisk12CDRSpecification-SemanticsandSyntax">Semantics and Syntax</h1><h2 id="Asterisk12CDRSpecification-BasicCDRLifetime">Basic CDR Lifetime</h2><p>Fundamentally, a CDR represents a path of communication between a channel and Asterisk or between two channels communicating through Asterisk. Those relationships can be broken down into the following states:</p><ul><li>Single - a channel is executing dialplan in Asterisk or otherwise has no relationship with any other channel. This is the default state of a CDR.</li><li>Dial - a channel is involved in a dial operation - either as a caller or as the callee. If they are the caller, they are automatically the Party A in the CDR. If they are the callee, they are automatically the Party B if there is a caller. If there is no caller - as is the case in channel origination - they are the Party A and there is no Party B.</li><li>Bridge - two channels share a bridge in which they can potentially talk to each other.</li><li>Finalized - the channel and Asterisk can no longer communicate or the relationship between the two channels has been broken. At this point, the last state of the channels involved is locked in the CDR.</li><li>Dispatched - the CDR has been written to the backend storages.</li></ul><p>When possible, Asterisk attempts to reuse a CDR. Thus a single CDR can transition through all of the above states. However, once a relationship is established between a Party A and a Party B, the CDR <strong>cannot</strong> be reused. The CDR will be finalized when the relationship between channels is broken and a new CDR created for any channel that is not hung up.</p><p>

<map id="gliffy-map-22478895-7083" name="gliffy-map-22478895-7083"></map>
<table width="100%" class="gliffy-macro-table">
    <tr>
        <td >
            <table class="gliffy-macro-inner-table">
                <caption align="bottom">
                                    </caption>
                <tr>
                    <td>
                        <img style="border: none; width: 946px;" usemap="#gliffy-map-22478895-7083" src="download/attachments/22088359/732833140" alt="" class="gliffy-macro-image"/>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>


</p><p>When a channel is created, a CDR is created for that channel. The channel is automatically the Party A of that CDR. The CDR is considered to be in the <strong>Single</strong> state while the channel executes dialplan or is waiting to be associated with another channel.</p><p>If a channel dials another channel, the CDR for that channel is transitioned to the <strong>Dial</strong> state. If the dial operation completes successfully and the channels are bridged together, the CDR transitions to the <strong>Bridged</strong> state. If the dial operation fails, the CDR transitions to the <strong>Finalized</strong> state. If the caller continues on in the dialplan, a new CDR is generated for them.</p><p>While the channels are bridged together, the CDR remains in the <strong>Bridged</strong> state. Operations that restrict media flow, such as call hold, are not reflected in CDRs. When the bridge is broken - either because one of the parties hangs up or a party is transferred - the CDR transitions to the <strong>Finalized</strong> state and any non-hungup channels have a new CDR created for them.</p><p>When a channel hangs up, all CDRs associated with it are implicitly finalized. When all CDRs for a channel are finalized, the CDRs are <strong>Dispatched</strong> to the backends for storage.</p><h2 id="Asterisk12CDRSpecification-DetailedSemantics">Detailed Semantics</h2><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-CDR_lifetime"></span></p><h3 id="Asterisk12CDRSpecification-CDRLifetime">CDR Lifetime</h3><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-CDR_creation"></span></p><h4 id="Asterisk12CDRSpecification-Creation">Creation</h4><p>A CDR record is created in any one of the following situations:</p><ul><li>Whenever a channel is created.</li><li>Whenever a channel leaves a bridge and is not hung up.</li><li>When a CDR is forked from a prior record.</li><li>When a channel enters a multi-party bridge.</li><li>When a channel <a href="Asterisk-12-CDR-Specification_22088359.html">dials more than one channel</a>.</li></ul><p>When it is created, a CDR inherits the <code>uniqueid</code> and <code>linkedid</code> from its Party A channel, and a new <code>sequence</code> number is generated. When created as a result of a dial operation, the channel acting as the caller is always the Party A.</p><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-cdr_dialing"></span></p><h4 id="Asterisk12CDRSpecification-DialingParties">Dialing Parties</h4><p>When a channel is known to dial other channels, a CDR is created for each dial attempt. The dial status is recorded for each dial attempt as a <a href="Asterisk-12-CDR-Specification_22088359.html">CDR Disposition</a>. Note that not all dial attempts may be dispatched depending on the CDR configuration. The caller is always the Party A in the created CDRs.</p><h4 id="Asterisk12CDRSpecification-Bridging">Bridging</h4><p>I<span style="line-height: 1.4285715;">f a channel is bridged with another channel, the following procedure is performed:</span></p><ul><li>The CDR is marked as having entered a bridge. If there is no other channel in the bridge, the CDR waits for another channel to join.</li><li>For each pairing of channels, the channels are compared to determine which is the Party A channel and which is the Party B channel. (See <a href="Asterisk-12-CDR-Specification_22088359.html">Choosing the Party A channel</a>).<ul><li>If the channel entering the bridge is the Party A, the CDR has a Party B, and the channel it is bridged with is the Party B, the CDR continues.</li><li>If the channel entering the bridge is the Party A, the CDR has a Party B, and the channel is not already the Party B, the current CDR is finalized and a new CDR is created for the relationship between the two parties. Note that the original CDR will be re-activated if the existing Party B enters the bridge.</li><li>If the channel entering the bridge is the Party A, the CDR has no Party B, then the channel it is bridged with becomes the Party B.</li><li>If the channel entering the bridge is the Party B, the other channel has a CDR with no Party B, this channel becomes the Party B and the existing CDR is finalized.</li><li>If the channel entering the bridge is the Party B, the other channel has a CDR with a Party B, and this channel is that CDR's Party B, then the existing CDR is finalized and the other channel's CDR activated.</li><li>If the channel entering the bridge is the Party B, the other channel has a CDR with a Party B, and this channel is not that CDR's Party B, then the existing CDR is finalized and a new CDR is created for that other channel with this channel as the Party B.</li></ul></li><li>If a third party joins the bridge with Party A and Party B, the process <a href="Asterisk-12-CDR-Specification_22088359.html">Choosing the Party A channel</a> is repeated for each pairing of channels. Thus, in a three-way call there will be three CDR records; in a four-way call there will be six records, etc.</li></ul>    <div class="aui-message success shadowed information-macro">
                            <span class="aui-icon icon-success">Icon</span>
                <div class="message-content">
                            <p>This feels complex, but there's really two rules going on here:</p><ol><li><span style="line-height: 1.4285715;">Keep using the existing CDR for a channel as long as possible</span></li><li><span style="line-height: 1.4285715;">Make CDRs for all pairings of channels in a bridge</span></li></ol>
                    </div>
    </div>
<h4 id="Asterisk12CDRSpecification-Finalization">Finalization</h4><p>A CDR is finalized in one of the following scenarios:</p><ul><li>If in a dial, the dial operation completes with a status other than ANSWER</li><li>If in a bridge, either party A or party B leaves the bridge</li><li>Either channel in a CDR hangs up</li><li>The CDR is forked and the forking operation instructs that the CDR should be finalized</li></ul><p>When a CDR is finalized, no further modifications can be made to the CDR by the user or Asterisk.</p><p>If a Party A channel in a CDR is not hung up but the CDR is finalized - such as when the channel leaves a bridge of its Party B hangs up - a new CDR is made for that channel and the process in <a href="Asterisk-12-CDR-Specification_22088359.html">CDR Creation</a> is begun again. Note that if the Party B in a CDR continues on in the the dialplan and/or is bridged with a new party, it may become Party A for a new CDR.</p><p>If at any point the Party A channel for a CDR is hung up, all CDR records for that Party A are <a href="Asterisk-12-CDR-Specification_22088359.html">dispatched</a>.</p><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-CDR_dispatch"></span></p><h4 id="Asterisk12CDRSpecification-Dispatch">Dispatch</h4><p>When a CDR is dispatched, all CDRs associated with the channel are committed to permanent storage. The CDRs at this point are removed from memory.</p><h3 id="Asterisk12CDRSpecification-ChoosingthePartyAchannel">Choosing the Party A channel</h3><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-choosing_party_a"></span></p><p>Asterisk does not have the concept of &quot;internal&quot; versus &quot;external&quot; devices. As such, what constitutes the Party A channel is highly dependent on a particular system configuration which is outside the control of the CDR system. As such, choosing a Party A uses the following rules:</p><ol><li>If the channel was dialed (but not originated), the channel is always Party B.</li><li>If one of the two channels has the <code>party_a</code> flag set, then that channel is chosen as the Party A.</li><li>If neither or both channels have the <code>party_A</code> flag, the channel with the oldest creation time is chosen as the Party A.</li></ol><p><span style="line-height: 1.4285715;">The </span><code style="line-height: 1.4285715;">party_A</code><span style="line-height: 1.4285715;"> flag may be set using the </span><a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Function_CDR">CDR function</a><span style="line-height: 1.4285715;">.</span></p><p> </p><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-cdr_linkedid"></span></p><h3 id="Asterisk12CDRSpecification-LinkedIDPropagation">LinkedID Propagation</h3><p><span style="line-height: 1.4285715;">When two channels are bridged, the <code>linkedid</code> property for the channels is updated. The channel with the oldest <code>linkedid</code> &quot;wins&quot;, and the other channel's <code>linkedid</code> is replaced. This creates an association between the channels that lasts even if the bridge is broken at a latter time.</span></p><p><span style="line-height: 1.4285715;">Note that dialed channels automatically receive the <code>linkedid</code> of the calling channel.</span></p><h2 id="Asterisk12CDRSpecification-Fields">Fields</h2><h3 id="Asterisk12CDRSpecification-StandardFields">Standard Fields</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Field</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p>Access</p></th></tr><tr><td class="confluenceTd"><p>accountcode</p></td><td class="confluenceTd"><p>String (20)</p></td><td class="confluenceTd"><p>An account code associated with the Party A channel</p></td><td class="confluenceTd"><p>r/w</p></td></tr><tr><td class="confluenceTd"><p>src</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The Caller ID Number</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>dst</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The destination extension</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>dcontext</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The destination context</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>clid</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The Caller ID with text</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>channel</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The name of the Party A channel</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>dstchannel</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The name of the Party B channel</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>lastapp</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The last application the Party A channel executed</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>lastdata</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The application data for the last application the Party A channel executed</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>start</p></td><td class="confluenceTd"><p>Date/time</p></td><td class="confluenceTd"><p>The time the CDR was created</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>answer</p></td><td class="confluenceTd"><p>Date/time</p></td><td class="confluenceTd"><p>The time when Party A was answered, or when the bridge between Party A and Party B was created</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>end</p></td><td class="confluenceTd"><p>Date/time</p></td><td class="confluenceTd"><p>The time when the CDR was finished. This occurs when either party hangs up, or when the bridge between the parties is broken</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>duration</p></td><td class="confluenceTd"><p>Integer</p></td><td class="confluenceTd"><p>The time in seconds from start until end</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>billsec</p></td><td class="confluenceTd"><p>Integer</p></td><td class="confluenceTd"><p>The time in seconds from answer until end</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>disposition</p></td><td class="confluenceTd"><p>Enum</p></td><td class="confluenceTd"><p>The final known disposition of the CDR record. See <a class="createlink" href="/wiki/pages/createpage.action?spaceKey=AST&amp;title=CDR+dispositions&amp;linkCreation=true&amp;fromPageId=22088359">CDR dispositions</a> for possible values</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>amaflags</p></td><td class="confluenceTd"><p>Enum</p></td><td class="confluenceTd"><p>A flag specified on the Party A channel. See <a class="createlink" href="/wiki/pages/createpage.action?spaceKey=AST&amp;title=AMA+records&amp;linkCreation=true&amp;fromPageId=22088359">AMA records</a> for possible values</p></td><td class="confluenceTd"><p>r/w</p></td></tr><tr><td class="confluenceTd"><p>userfield</p></td><td class="confluenceTd"><p>String (255)</p></td><td class="confluenceTd"><p>A user defined field set on the channels. If set on both the Party A and Party B channel, the userfields of both are concatenated and separated by a <code>;</code></p></td><td class="confluenceTd"><p>r/w</p></td></tr><tr><td class="confluenceTd"><p>uniqueid</p></td><td class="confluenceTd"><p>String (32)</p></td><td class="confluenceTd"><p>A unique identifier for the Party A channel</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>linkedid</p></td><td class="confluenceTd"><p>String (32)</p></td><td class="confluenceTd"><p>A unique identifier that unites multiple CDR records. See <a href="Asterisk-12-CDR-Specification_22088359.html">linkedid propagation</a> for more details</p></td><td class="confluenceTd"><p>r</p></td></tr><tr><td class="confluenceTd"><p>peeraccount</p></td><td class="confluenceTd"><p>String (80)</p></td><td class="confluenceTd"><p>The account code of the Party B channel</p></td><td class="confluenceTd"><p>r/w</p></td></tr><tr><td class="confluenceTd"><p>sequence</p></td><td class="confluenceTd"><p>Integer</p></td><td class="confluenceTd"><p>A numeric value that, combined with uniqueid and linkedid, can be used to uniquely identify a single CDR record</p></td><td class="confluenceTd"><p>r</p></td></tr></tbody></table></div><p>Any of the values may be accessed using the <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Function_CDR">CDR function</a>. Any value that is read/write may be modified using this same function. CDR field values cannot be modified once the CDR is finalized.</p><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-cdr_dispositions"></span></p><h4 id="Asterisk12CDRSpecification-Dispositions">Dispositions</h4><p>Dispositions represent the final state of the call from the perspective of Party A.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Value</p></th><th class="confluenceTh"><p>Description</p></th><th class="confluenceTh"><p><a href="https://wiki.asterisk.org/wiki/display/AST/Hangup+Cause+Mappings">Hangup Cause Mapping</a></p></th><th colspan="1" class="confluenceTh">Dial Status Mapping</th></tr><tr><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>The channel was never answered. This is the default disposition for an unanswered channel.</p></td><td class="confluenceTd"><p>Any not explicitly listed</p></td><td colspan="1" class="confluenceTd"><ul><li>CANCEL</li><li>NOANSWER</li></ul></td></tr><tr><td colspan="1" class="confluenceTd">CONGESTION</td><td colspan="1" class="confluenceTd">The channel dialed something that was congested.</td><td colspan="1" class="confluenceTd"><ul><li><code>AST_CAUSE_CONGESTION</code></li></ul></td><td colspan="1" class="confluenceTd">CONGESTION</td></tr><tr><td class="confluenceTd"><p>FAILED</p></td><td class="confluenceTd"><p>The channel attempted to dial but the call failed.</p>    <div class="aui-message hint shadowed information-macro">
                            <span class="aui-icon icon-hint">Icon</span>
                <div class="message-content">
                            <p><span>The </span><code>congestion</code><span> setting in </span><code>cdr.conf</code><span> can result in the <code>AST_CAUSE_CONGESTION</code> hang up cause or the CONGESTION dial status to map to this disposition.</span></p>
                    </div>
    </div>
</td><td class="confluenceTd"><ul><li><span style="font-family: monospace;line-height: 1.4285715;">AST_CAUSE_CONGESTION</span></li><li><span style="font-family: monospace;line-height: 1.4285715;">AST_CAUSE_NO_ROUTE_DESTINATION</span></li><li><span style="font-family: monospace;line-height: 1.4285715;">AST_CAUSE_UNREGISTERED</span></li></ul></td><td colspan="1" class="confluenceTd"><ul><li>CONGESTION</li><li>FAILED</li></ul><p> </p></td></tr><tr><td class="confluenceTd"><p>BUSY</p></td><td class="confluenceTd"><p>The channel attempted to dial but the remote party was busy.</p></td><td class="confluenceTd"><ul><li><span style="font-family: monospace;line-height: 1.4285715;">AST_CAUSE_BUSY</span></li></ul></td><td colspan="1" class="confluenceTd"><ul><li>BUSY</li></ul></td></tr><tr><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>The channel was answered. When the channel is answered, the hangup cause no longer changes the disposition.</p></td><td class="confluenceTd"><p>Any not explicitly listed</p></td><td colspan="1" class="confluenceTd"><ul><li>ANSWER</li></ul></td></tr></tbody></table></div><p><span class="confluence-anchor-link" id="Asterisk12CDRSpecification-cdr_ama"></span></p><h4 id="Asterisk12CDRSpecification-AMAFlags">AMA Flags</h4><p>AMA Flags are set on a channel and are conveyed in the CDR. They inform billing systems how to treat the particular CDR. Asterisk provides no additional semantics regarding these flags - they are present simply to help external systems classify CDRs.</p><ul><li>OMIT</li><li>BILLING</li><li>DOCUMENTATION</li></ul><h3 id="Asterisk12CDRSpecification-UserDefinedFields">User Defined Fields</h3><p>Any CDR record may have user defined fields associated with it. Fields can be added to either the Party A or Party B channel. Note that not all CDR backends support user defined fields; in those cases the user field is simply dropped when the CDR is dispatched to the backend.</p><p>If a Party A channel and a Party B channel both contain a field with the same key, only the Party A channel's field will be written to the CDR.</p><p>User defined CDR fields are created using the <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Function_CDR">CDR function</a>, and read using the same function.</p><h2 id="Asterisk12CDRSpecification-Scenarios">Scenarios</h2>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>The following scenarios show examples of CDRs created in common use cases. If a particular scenario is not shown below, the CDRs created during the scenario should still match the behavior described previously. Some applications, however, may have undefined behavior as their use is not common or the mechanism by which they manipulate channels does not allow for the capturing of the channel state.</p><p>Undefined behavior means that the behavior of CDRs in those cases is unsupported and will not be addressed as a bug.</p>
                    </div>
    </div>
<h3 id="Asterisk12CDRSpecification-Unanswered%22Inbound%22Call">Unanswered &quot;Inbound&quot; Call</h3>    <div class="aui-message success shadowed information-macro">
                            <span class="aui-icon icon-success">Icon</span>
                <div class="message-content">
                            <p>Unanswered calls may not always be logged to CDR backends if the configuration has explicitly disabled unanswered calls.</p>
                    </div>
    </div>
<p>Alice calls into Asterisk at extension 500 using a SIP phone and, during dialplan execution of a NoOp(), hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>500</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>NoOp</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:20</p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>34</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h3 id="Asterisk12CDRSpecification-Unanswered%22Outbound%22Call">Unanswered &quot;Outbound&quot; Call</h3><p>Asterisk creates a call file to dial Alice and playback tt-monkeys to her. Alice, anticipating the screeching of howler monkeys, never picks up the phone.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>s</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>AppDial</p></td><td class="confluenceTd"><p>SIP/Alice</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:20</p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h3 id="Asterisk12CDRSpecification-SingleParty">Single Party</h3><p>Alice calls into Asterisk's VoiceMailMain application. This implicitly Answers the channel. She checks her voicemail for awhile, then hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>8500</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Hangup</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:20</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>58</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>112</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h3 id="Asterisk12CDRSpecification-BasicTwoPartyCalls">Basic Two Party Calls</h3><p>Two party calls can be initiated in a variety of ways. Several of the more common ways are illustrated here.</p><h4 id="Asterisk12CDRSpecification-BasicCall">Basic Call</h4><p>Alice calls into Asterisk, which dials Bob. Bob Answers, and a bridge is formed between Alice and Bob. Alice and Bob talk for awhile, then Bob hangs up. This breaks the bridge between Alice and Bob, and Alice is hung up on as well.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:26</p></td><td class="confluenceTd"><p>2013-03-04 13:13:18</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>112</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>12</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-UnansweredDial">Unanswered Dial</h4><p>Alice calls into Asterisk, which dials Bob. Bob refuses to pick up his phone, and the call eventually times out.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,10,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-ParallelDial">Parallel Dial</h4><p>Alice calls into Asterisk, which dials Bob's SIP desk phone as well as his IAX2 soft phone. Both ring for awhile, and Bob eventually presses the Answer button on his IAX2 soft phone.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob&amp;IAX2/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>12</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>IAX2/bob-00000000</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob&amp;IAX2/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:28</p></td><td class="confluenceTd"><p>70</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>13</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-CallForward">Call Forward</h4><p>Alice calls into Asterisk, which dials Bob's SIP desk phone. Bob is on vacation, and the SIP phone returns a &quot;302&quot; and redirects Asterisk to dial his SIP mobile.</p><h3 id="Asterisk12CDRSpecification-Transfers">Transfers</h3><p>Transfers create multiple CDRs. In general, a CDR is created for each path of communication between two endpoints. Note that Asterisk does <strong>not</strong> attempt to compute the total duration or billing time of any of the various channels involved - it is up to the businesses consuming CDRs to know whether or not the amount of time they want to bill a party includes the transfer, the time spent dialing another party, consultation time, etc.</p><h4 id="Asterisk12CDRSpecification-BlindTransfer">Blind Transfer</h4><p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off to Charlie, and he blind transfers Alice to Charlie's extension. Asterisk dials Charlie's SIP phone, and Charlie answers. Alice and Charlie talk for awhile until Alice decides to hang up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p>30</p></td><td class="confluenceTd"><p>20</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p>2013-03-04 13:11:53</p></td><td class="confluenceTd"><p>2013-03-04 13:12:53</p></td><td class="confluenceTd"><p>65</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-AttendedTransfertoChannel">Attended Transfer to Channel</h4><p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off to Charlie, and he initiates an attended transfer. Alice is put on hold, and Bob dials Charlie's extension. Asterisk dials Charlie's SIP phone, and Charlie answers. Bob and Charlie talk for a bit, and Charlie agrees to talk to Alice. Bob completes the attended transfer, Alice is taken off hold, and Alice and Charlie are bridged. Alice talks to Charlie for awhile, then hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p>2013-03-04 13:11:53</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>30</p></td><td class="confluenceTd"><p>26</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:53</p></td><td class="confluenceTd"><p>45</p></td><td class="confluenceTd"><p>45</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>103</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>In the example above, note the following:</p><ul><li>Hold time is not reflected in CDRs.</li><li>When Bob dials Charlie, he becomes the Party A channel. However, the <code>linkedid</code> from Alice 'wins', and so the CDR reflects the <code>linkedid</code> from Alice's CDR.</li><li>Alice and Charlie are bridged automatically by the attended transfer, so their start and answer times are identical.</li><li>The billsec/duration of Alice and Charlie are reflective of their portion of the call, and do not include the times from Alice and Bob.</li></ul>
                    </div>
    </div>
<h4 id="Asterisk12CDRSpecification-AttendedTransfertoApplication">Attended Transfer to Application</h4><p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off into Charlie's voicemail mailbox, and he initiates an attended transfer. Alice is put on hold, and Bob dials an extension that calls into VoiceMail. Bob enters in the Charlie's voicemail mailbox number, then completes the attended transfer to put Alice into the voicemail mailbox. Alice records some voicemail, then hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>8500</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>VoiceMail</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p>2013-03-04 13:11:49</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>30</p></td><td class="confluenceTd"><p>29</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>8500</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>VoiceMail</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:13:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>103</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-BlondeTransfer">Blonde Transfer</h4><p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to send Alice off to Charlie, and he initiates an attended transfer. Alice is put on hold, and Bob dials Charlie's extension. Asterisk dials Charlie's SIP phone, but before Charlie answers Bob hangs up. Asterisk recognizes that this is a blonde transfer, takes Alice off hold, and ties Charlie's ringing phone to Alice. Charlie answers, Alice talks to Charlie for awhile, then hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:11:50</p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:50</p></td><td class="confluenceTd"><p>2013-03-04 13:11:55</p></td><td class="confluenceTd"><p>2013-03-04 13:12:30</p></td><td class="confluenceTd"><p>40</p></td><td class="confluenceTd"><p>35</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>103</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-ThreeWayCall">Three Way Call</h4><p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Bob decides to bring Charlie into the mix. He puts Alice on hold and dials Charlie's extension. Asterisk dials Charlie's SIP phone, and Charlie answers. Bob and Charlie talk for awhile, and Bob then finishes the three-way call by finalizing the attempt. Alice is taken off hold, and Alice, Bob, and Charlie can all talk. Eventually, Bob hangs up, and all parties are ejected and hung up on.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:13:18</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>110</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p>2013-03-04 13:11:53</p></td><td class="confluenceTd"><p>2013-03-04 13:12:08</p></td><td class="confluenceTd"><p>20</p></td><td class="confluenceTd"><p>15</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:12:08</p></td><td class="confluenceTd"><p>2013-03-04 13:12:08</p></td><td class="confluenceTd"><p>2013-03-04 13:13:18</p></td><td class="confluenceTd"><p>70</p></td><td class="confluenceTd"><p>70</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>103</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:12:08</p></td><td class="confluenceTd"><p>2013-03-04 13:12:08</p></td><td class="confluenceTd"><p>2013-03-04 13:13:18</p></td><td class="confluenceTd"><p>70</p></td><td class="confluenceTd"><p>70</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>104</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>In the example above, note the following:</p><ul><li>The consultation between Bob and Charlie is treated as a separate conversation from the conversation between all three parties. Thus, there are two CDRs between Bob and Charlie.</li><li>Because the path of communication never was broken between Alice and Bob (despite Alice being put on hold), there is only one CDR for Alice to Bob.</li></ul>
                    </div>
    </div>
<h4 id="Asterisk12CDRSpecification-SIPAttendedTransfer">SIP Attended Transfer</h4><p>Alice calls into Asterisk, which dials Bob's SIP phone. Bob answers, and Alice and Bob talk for awhile. Eventually, Alice decides to transfer Bob to Charlie, and performs an attended transfer using her SIP phone. Bob is put on hold. Alice and Charlie talk for awhile, and then Alice finishes the attended transfer. Bob is taken off hold, and bridged with Charlie. Alice is hung up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000002</p></td><td class="confluenceTd"><p>SIP/charlie-00000003</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie</p></td><td class="confluenceTd"><p>2013-03-04 13:11:48</p></td><td class="confluenceTd"><p>2013-03-04 13:11:53</p></td><td class="confluenceTd"><p>2013-03-04 13:12:08</p></td><td class="confluenceTd"><p>20</p></td><td class="confluenceTd"><p>15</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000003</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:28</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>103</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>The important point to note here is that a SIP attended transfer uses two channels to communicate with Bob - <code>SIP/bob-00000001</code> and <code>SIP/bob-00000002</code>. The CDR records are associated by virtue of the <code>linkedid</code> field.</p>
                    </div>
    </div>
<h3 id="Asterisk12CDRSpecification-LocalChannels">Local Channels</h3><p>Local channels are a special Asterisk construct that create a path of communication between two bridges or a bridge and an application. A Local channel always consists of two channels with the same name prefix - the first of the Local channel pair is delineated with a <code>;1</code>; the second is delineated with a <code>;2</code>. Local channels have two different modes in Asterisk:</p><ul><li>They can exist permanently. In that case, the Local channel pair appears as two separate channels. From the perspective of CDRs, they are treated as such with an implicit bridge between the channels. CDRs with a permanent Local channel pair will share the same <code>linkedid</code>.</li><li>They can optimize. A Local channel optimization occurs when a pair of Local channels exist between two bridges and the Local channel has been configured to optimize. If that situation occurs, the Local channel will cause the two bridges to merge into a single merge, and the Local channel will disappear.</li></ul><p>Each situation and how it appears in CDRs is explored further below.</p><h4 id="Asterisk12CDRSpecification-Non-optimizingLocalChannels">Non-optimizing Local Channels</h4><h5 id="Asterisk12CDRSpecification-Localchanneltoanapplication">Local channel to an application</h5><p>An external application <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+ManagerAction_Originate">Originates</a> a Local channel. The first half of the Local channel Dials Alice over a SIP channel. The second half of the Local channel is placed into her VoiceMail account. Alice listens to her VoiceMail through the Local channel, then hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;&quot;</p></td><td class="confluenceTd"><p>dial_alice</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/dial_alice@default-00000001;1</p></td><td class="confluenceTd"><p>SIP/alice-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/alice,,tT</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td></tr><tr><td class="confluenceTd"><p>&quot;&quot;</p></td><td class="confluenceTd"><p>voicemail</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/dial_alice@default-00000001;2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>VoiceMailMain</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td></tr></tbody></table></div><h5 id="Asterisk12CDRSpecification-Localchannelbetweenbridges">Local channel between bridges</h5><p>An external application <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+ManagerAction_Originate">Originates</a> a Local channel. The first half of the Local channel Dials Alice over a SIP channel; Alice answers. This triggers the second half of the Local channel, which Dials Bob. Bob Answers, and Alice and Bob talk. Alice hangs up, the Local channels are hung up, and Bob is hung up on.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;&quot;</p></td><td class="confluenceTd"><p>dial_alice</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/dial_alice@default-00000001;1</p></td><td class="confluenceTd"><p>SIP/alice-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/alice,,tT</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td></tr><tr><td class="confluenceTd"><p>&quot;&quot;</p></td><td class="confluenceTd"><p>dial_bob</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/dial_alice@default-00000001;2</p></td><td class="confluenceTd"><p>SIP/bob-00000003</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,tT</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:11:38</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>50</p></td><td class="confluenceTd"><p>40</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424290.1</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-LocalChannelOptimization">Local Channel Optimization</h4><p>When a Local channel optimization occurs, the CDR records associated with the Local channel are finalized. New CDR records are generated for the channels in the merged bridge, per the rules in <a href="Asterisk-12-CDR-Specification_22088359.html">CDR Consolidation</a>.</p>    <div class="aui-message problem shadowed information-macro">
                            <span class="aui-icon icon-problem">Icon</span>
                <div class="message-content">
                            <p>CDR properties set on optimized Local channels are <strong>not</strong> propagated to other channels. Setting CDR information on optimizing Local channels will cause that information to be lost.</p><p>In prior versions of Asterisk it was sometimes necessary to set CDR information on Local channels - with the addition of <a href="https://wiki.asterisk.org/wiki/display/AST/Pre-Dial+Handlers">Pre-Dial handlers</a>, it is always possible to set CDR information on the appropriate channel at the time of creation.</p>
                    </div>
    </div>
<h3 id="Asterisk12CDRSpecification-CallHold">Call Hold</h3><p>Call Hold is a state of the media between two or more channels, and not a change in the actual bridging of those channels. As such, Call Hold is <strong>not</strong> reflected in CDRs. Channels may be put on hold, taken off hold, put on hold again, forgotten about, found again, taken off hold, etc. without affecting CDRs at all.</p><h3 id="Asterisk12CDRSpecification-CallPark">Call Park</h3><p>Call Park is different from Call Hold. Whereas Call Hold is a change of media state, Call Park implies that the channel has been moved into a state where it can be retrieved by any other channel. As such, calls in Park receive their own CDR.</p><p>Alice calls into Asterisk and Bob answers. Alice says she wants to talk to Charlie, but Bob isn't sure Charlie wants to talk to Alice so he blind transfers her into Park. Alice sits, waiting in her parking slot, listening to serenading robots while Bob asks if Charlie wants to talk to Alice. Charlie says sure, so he picks Alice up out of Park and they talk for awhile before Alice hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:11:38</p></td><td class="confluenceTd"><p>20</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Park</p></td><td class="confluenceTd"><p>60000,default,200,1</p></td><td class="confluenceTd"><p>2013-03-04 13:11:38</p></td><td class="confluenceTd"><p>2013-03-04 13:11:38</p></td><td class="confluenceTd"><p>2013-03-04 13:12:38</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Park</p></td><td class="confluenceTd"><p>60000,default,200,1</p></td><td class="confluenceTd"><p>2013-03-04 13:12:38</p></td><td class="confluenceTd"><p>2013-03-04 13:12:38</p></td><td class="confluenceTd"><p>2013-03-04 13:13:38</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>103</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h3 id="Asterisk12CDRSpecification-CallQueues">Call Queues</h3><h4 id="Asterisk12CDRSpecification-CallQueue-Example1">Call Queue - Example 1</h4><p>Alice calls into Asterisk and enters <a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Application_Queue">Queue</a> without being Answered. She waits in the queue for a period of time. At some point in time, she enters into the head of the queue and the queue performs a ring-all on the members of the queue. There are two queue members - Bob and Charlie. Bob is out to lunch, so his queue member is paused and it returns a Busy indication. Charlie, on the other hand, is not busy and answers. Alice and Charlie talk for awhile, and eventually Alice hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>800</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>complaints</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:14:18</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>BUSY</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>800</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>complaints</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:14:18</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h4 id="Asterisk12CDRSpecification-CallQueue-Example2">Call Queue - Example 2</h4><p>Alice calls into Asterisk and enters Queue without being Answered. She waits in the queue for a period of time. At some point in time, she enters into the head of the queue and the queue performs a round-robin strategy ring on the members of the queue. Bob is rung first, but being lazy, he ignores his phone. After some time of ringing, it times out and goes on to Charlie. When Charlie's SIP phone rings, he immediately answers. Alice and Charlie talk for some period of time, and eventually Alice hangs up.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>800</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>complaints</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:14:18</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>101</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>800</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>complaints</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:38</p></td><td class="confluenceTd"><p>2013-03-04 13:14:18</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>102</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h3 id="Asterisk12CDRSpecification-ConferenceCall">Conference Call</h3><p>Alice calls into Asterisk and joins a ConfBridge conference. Bob does a bit later as well. Finally, Charlie joins the Conference. After talking for awhile, Bob realizes he's late for lunch and hangs up. Alice and Charlie talk for a bit longer, then finally Alice hangs up. Charlie stays in the conference for another second before he hangs up as well.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>1000</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>ConfBridge</p></td><td class="confluenceTd"><p>1000,public_bridge,public_user,public_menu</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:14:18</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>170</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>1000</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>ConfBridge</p></td><td class="confluenceTd"><p>1000,public_bridge,public_user,public_menu</p></td><td class="confluenceTd"><p>2013-03-04 13:11:28</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:14:18</p></td><td class="confluenceTd"><p>170</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>1000</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000002</p></td><td class="confluenceTd"><p>ConfBridge</p></td><td class="confluenceTd"><p>1000,public_bridge,public_user,public_menu</p></td><td class="confluenceTd"><p>2013-03-04 13:11:18</p></td><td class="confluenceTd"><p>2013-03-04 13:12:18</p></td><td class="confluenceTd"><p>2013-03-04 13:15:18</p></td><td class="confluenceTd"><p>240</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><h3 id="Asterisk12CDRSpecification-AComplexExample">A Complex Example</h3><p>Alice calls into Asterisk and Dials Bob. Bob answers, and he and Alice talk for awhile. Bob realizes that what Alice really needs is to talk to Sales, so he blind transfers Alice off to the Sales Queue. As Alice is heading off to the Sales Queue, Bob realizes that he should talk with Charlie about Alice, so he Dials Charlies and he and Charlie talk for awhile. Alice enters into the Sales Queue, where she waits for a bit while agents David and Frank are dialed using Local channels to SIP devices. Alice is eventually Answered by David, a sales agent. David and Alice talk for a bit, but David isn't able to sell her on their new fantastic product, so he puts Alice on hold for a bit and calls Ellen from engineering. Ellen agrees to be on the call, and Alice, David, and Ellen are put into a three-way call. Around this time, Charlie decides that he should talk to Alice as well. He transfers himself to the Sales bridge, hanging up on Bob in the process. This turns the Sales bridge into a four-way call. The four parties talk for awhile, and eventually Alice is sold on the new whiz-bang product, so she hangs up. Ellen realizes she isn't need any more either, and hangs up as well. Charlie and David talk about the weather for awhile, and then Charlie hangs up, hanging up David as well.</p><ul><li>Alice calls into Asterisk and Dials Bob. Bob and Alice talk for awhile.</li></ul><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/bob-00000001</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/bob,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:00:00</p></td><td class="confluenceTd"><p>2013-03-04 13:00:05</p></td><td class="confluenceTd"><p>2013-03-04 13:01:00</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>55</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>1</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div><ul><li>Bob realizes Alice wants to talk to Sales, so he blind transfers her off to the Sales Queue. Alice enters into the Sales Queue, where she waits for a bit while agents David and Frank are dialed using Local channels to SIP devices. Alice is eventually Answered by David, a sales agent.</li></ul><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>Local/member1@default-00000001;1</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>sales</p></td><td class="confluenceTd"><p>2013-03-04 13:01:00</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:02:00</p></td><td class="confluenceTd"><p>60</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>member1</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/member1@default-00000001;2</p></td><td class="confluenceTd"><p>SIP/frank-00000002</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/frank</p></td><td class="confluenceTd"><p>2013-03-04 13:01:50</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>2013-03-04 13:02:00</p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>0</p></td><td class="confluenceTd"><p>NO ANSWER</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>3</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>Local/member2@default-00000002;1</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>sales</p></td><td class="confluenceTd"><p>2013-03-04 13:01:00</p></td><td class="confluenceTd"><p>2013-03-04 13:02:00</p></td><td class="confluenceTd"><p>2013-03-04 13:05:00</p></td><td class="confluenceTd"><p>240</p></td><td class="confluenceTd"><p>180</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>4</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>member2</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/member2@default-00000002;2</p></td><td class="confluenceTd"><p>SIP/david-00000003</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/david</p></td><td class="confluenceTd"><p>2013-03-04 13:02:00</p></td><td class="confluenceTd"><p>2013-03-04 13:02:05</p></td><td class="confluenceTd"><p>2013-03-04 13:06:00</p></td><td class="confluenceTd"><p>240</p></td><td class="confluenceTd"><p>235</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.3</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>5</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>Note that with non-optimizing Local channels, the duration of the Alice to the Local channel (which in turns passes media to/from David) may not reflect the length of time that the Local channel to David is in the bridge. As we'll see, additional channels joining the bridge will change that CDR's durations.</p>
                    </div>
    </div>
<ul><li>Meanwhile, Bob calls Charlie.</li></ul><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Bob &lt;200&gt;&quot;</p></td><td class="confluenceTd"><p>200</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/bob-00000004</p></td><td class="confluenceTd"><p>SIP/charlie-00000005</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/charlie,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:01:10</p></td><td class="confluenceTd"><p>2013-03-04 13:01:20</p></td><td class="confluenceTd"><p>2013-03-04 13:03:20</p></td><td class="confluenceTd"><p>130</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424277.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>6</p></td><td class="confluenceTd"><p>Asterisk-01-1362424277.1</p></td></tr></tbody></table></div><ul><li>David and Alice talk for a bit, but David isn't able to sell her on their new fantastic product, so he puts Alice on hold for a bit and calls Ellen from engineering. Ellen agrees to be on the call, and Alice, David, and Ellen are put into a three-way call.</li></ul><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;David &lt;900&gt;&quot;</p></td><td class="confluenceTd"><p>900</p></td><td class="confluenceTd"><p>901</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/david-00000003</p></td><td class="confluenceTd"><p>SIP/ellen-00000006</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/ellen,,Tt</p></td><td class="confluenceTd"><p>2013-03-04 13:02:30</p></td><td class="confluenceTd"><p>2013-03-04 13:02:40</p></td><td class="confluenceTd"><p>2013-03-04 13:03:00</p></td><td class="confluenceTd"><p>30</p></td><td class="confluenceTd"><p>20</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424300.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>7</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/ellen-00000006</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>sales</p></td><td class="confluenceTd"><p>2013-03-04 13:03:00</p></td><td class="confluenceTd"><p>2013-03-04 13:03:00</p></td><td class="confluenceTd"><p>2013-03-04 13:05:00</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>8</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>member2</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>Local/member2@default-00000002;2</p></td><td class="confluenceTd"><p>SIP/ellen-00000006</p></td><td class="confluenceTd"><p>Dial</p></td><td class="confluenceTd"><p>SIP/david</p></td><td class="confluenceTd"><p>2013-03-04 13:03:00</p></td><td class="confluenceTd"><p>2013-03-04 13:03:00</p></td><td class="confluenceTd"><p>2013-03-04 13:05:00</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>120</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424280.3</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>9</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>During the consultation period, David's SIP channel directly Dials Ellen's SIP device. However, when Ellen joins the bridge with David, it is the Local channel to David that is in the bridge, not David's SIP channel. Thus, the CDR reflects the Local channel to Ellen's SIP channel.</p>
                    </div>
    </div>
<ul><li>Around this time, Charlie decides that he should talk to Alice as well. He transfers himself to the Sales bridge, hanging up on Bob in the process. This turns the Sales bridge into a four-way call. The four parties talk for awhile, and eventually Alice is sold on the new whiz-bang product, so she hangs up. Ellen realizes she isn't need any more either, and hangs up as well. Charlie and David talk about the weather for awhile, and then Charlie hangs up, hanging up David as well.</li></ul><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>clid</p></th><th class="confluenceTh"><p>src</p></th><th class="confluenceTh"><p>dst</p></th><th class="confluenceTh"><p>dcontext</p></th><th class="confluenceTh"><p>channel</p></th><th class="confluenceTh"><p>dstchannel</p></th><th class="confluenceTh"><p>lastapp</p></th><th class="confluenceTh"><p>lastdata</p></th><th class="confluenceTh"><p>start</p></th><th class="confluenceTh"><p>answer</p></th><th class="confluenceTh"><p>end</p></th><th class="confluenceTh"><p>duration</p></th><th class="confluenceTh"><p>billsec</p></th><th class="confluenceTh"><p>disposition</p></th><th class="confluenceTh"><p>amaflags</p></th><th class="confluenceTh"><p>accountcode</p></th><th class="confluenceTh"><p>peeraccount</p></th><th class="confluenceTh"><p>uniqueid</p></th><th class="confluenceTh"><p>userfield</p></th><th class="confluenceTh"><p>sequence</p></th><th class="confluenceTh"><p>linkedid</p></th></tr><tr><td class="confluenceTd"><p>&quot;Alice &lt;100&gt;&quot;</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>700</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>SIP/charlie-00000005</p></td><td class="confluenceTd"><p>Queue</p></td><td class="confluenceTd"><p>sales</p></td><td class="confluenceTd"><p>2013-03-04 13:03:20</p></td><td class="confluenceTd"><p>2013-03-04 13:03:20</p></td><td class="confluenceTd"><p>2013-03-04 13:05:00</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>100</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>10</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Charlie &lt;300&gt;&quot;</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>701</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/charlie-00000005</p></td><td class="confluenceTd"><p>Local/member2@default-00000002;2</p></td><td class="confluenceTd"><p>Bridge</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>2013-03-04 13:03:20</p></td><td class="confluenceTd"><p>2013-03-04 13:03:20</p></td><td class="confluenceTd"><p>2013-03-04 13:06:00</p></td><td class="confluenceTd"><p>160</p></td><td class="confluenceTd"><p>160</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424278.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>11</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr><tr><td class="confluenceTd"><p>&quot;Charlie &lt;300&gt;&quot;</p></td><td class="confluenceTd"><p>300</p></td><td class="confluenceTd"><p>701</p></td><td class="confluenceTd"><p>default</p></td><td class="confluenceTd"><p>SIP/charlie-00000005</p></td><td class="confluenceTd"><p>SIP/ellen-00000006</p></td><td class="confluenceTd"><p>Bridge</p></td><td class="confluenceTd"><p>SIP/alice-00000000</p></td><td class="confluenceTd"><p>2013-03-04 13:03:20</p></td><td class="confluenceTd"><p>2013-03-4 13:03:20</p></td><td class="confluenceTd"><p>2013-03-04 13:05:05</p></td><td class="confluenceTd"><p>105</p></td><td class="confluenceTd"><p>105</p></td><td class="confluenceTd"><p>ANSWERED</p></td><td class="confluenceTd"><p>DOCUMENTATION</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>Asterisk-01-1362424278.1</p></td><td class="confluenceTd"><p> </p></td><td class="confluenceTd"><p>12</p></td><td class="confluenceTd"><p>Asterisk-01-1362424276.2</p></td></tr></tbody></table></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>Because Charlie's channel is older then either the Local channel to David's SIP channel or Ellen's SIP channel, Charlie is chosen as Party A for those CDRs. Alice, on the other hand, is older than Charlie, so she is Party A for that CDR. Because Alice is the oldest channel, her <code>linkedid</code> is propagated to all CDRs in the bridge. However, the CDR between Charlie and Bob is not affected, as Bob is the Party A in that CDR and the CDR would already have been dispatched by the time Charlie joined this bridge.</p>
                    </div>
    </div>
<h1 id="Asterisk12CDRSpecification-AsteriskCDRAPIs">Asterisk CDR APIs</h1><p>The following details high level APIs that Asterisk provides for manipulating CDRs.</p>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>These still describe applications/functions available in Asterisk 11. When documentation has been updated for these applications/functions for Asterisk 12, the links will be updated appropriately.</p>
                    </div>
    </div>
<h2 id="Asterisk12CDRSpecification-Applications">Applications</h2><h3 id="Asterisk12CDRSpecification-NoCDR"><a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Application_NoCDR">NoCDR</a></h3><p>When this application is executed on a channel, the channel is no longer considered for CDRs. Any previous CDRs involving the channel will continue to be updated.</p>    <div class="aui-message problem shadowed information-macro">
                            <span class="aui-icon icon-problem">Icon</span>
                <div class="message-content">
                            <p>This application is deprecated. It is now recommended to use the <a href="Asterisk-12-Function_CDR_PROP_26477002.html">CDR_PROP</a> function instead.</p>
                    </div>
    </div>
<h3 id="Asterisk12CDRSpecification-ForkCDR"><a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Application_ForkCDR">ForkCDR</a></h3><p>ForkCDR now does significantly less than it used to. The application will finalize the current CDR and create a new CDR for the party A channel. The new CDR record may or may not inherit properties of the previously finalized CDR, based on parameters passed to the application.</p><h3 id="Asterisk12CDRSpecification-ResetCDR"><a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Application_ResetCDR">ResetCDR</a></h3><p>ResetCDR has two purposes:</p><ol><li>It resets the start time/answer time for the current CDR. If the channel is answered, the start time and answer time will reflect when ResetCDR was called on the channel.</li><li>Alternatively, it simply enables CDRs on a channel that previously had NoCDR executed on it.</li></ol><h2 id="Asterisk12CDRSpecification-Functions">Functions</h2><h3 id="Asterisk12CDRSpecification-CDR"><a href="https://wiki.asterisk.org/wiki/display/AST/Asterisk+11+Function_CDR">CDR</a></h3><p>Retrieve or modify a field in a CDR record.</p><h3 id="Asterisk12CDRSpecification-CDR_PROP"><a href="Asterisk-12-Function_CDR_PROP_26477002.html">CDR_PROP</a></h3><p>Modify a fundamental property on a CDR record.</p><h4 id="Asterisk12CDRSpecification-Example%3ASettingthecalledpartyasPartyAoftheCDR">Example: Setting the called party as Party A of the CDR</h4><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">[default]

exten =&gt; 100,1,NoOp()
 same =&gt;     n,Dial(SIP/bob,,b(default^callee_handler^1))
 same =&gt;     n,Hangup()

exten =&gt; callee_handler,1,NoOp()
 same =&gt;                n,Set(CDR(party_A)=true)
 same =&gt;                n,Return()
</pre>
</div></div><h2 id="Asterisk12CDRSpecification-Configuration">Configuration</h2><p>The following parameters can be configured for the CDR engine. Additional CDR backends may have their own configuration settings that are outside the scope of this specification.</p><h3 id="Asterisk12CDRSpecification-GeneralSettings">General Settings</h3><p>The following settings must appear in the context <code>general</code>.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"><p>Name</p></th><th class="confluenceTh"><p>Type</p></th><th class="confluenceTh"><p>Description</p></th></tr><tr><td class="confluenceTd"><p>enable</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Enable/disable the CDR engine</p></td></tr><tr><td class="confluenceTd"><p>batch</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Dispatch CDRs in batches.</p></td></tr><tr><td class="confluenceTd"><p>unanswered</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Dispatch unanswered CDRs. See <a href="Asterisk-12-CDR-Specification_22088359.html">Definition of Unanswered</a> for more information.</p></td></tr><tr><td class="confluenceTd"><p>congestion</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Treat congestion calls as failed calls</p></td></tr><tr><td class="confluenceTd"><p>endbeforehexten</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Finalize CDRs before the <code>h</code> extension or hangup handlers are executed</p></td></tr><tr><td class="confluenceTd"><p>initiatedseconds</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Count microseconds for the purposes of the <code>billsec</code> field</p></td></tr><tr><td class="confluenceTd"><p>size</p></td><td class="confluenceTd"><p>Integer</p></td><td class="confluenceTd"><p>The number of records to buffer before initiating a batch</p></td></tr><tr><td class="confluenceTd"><p>time</p></td><td class="confluenceTd"><p>Integer</p></td><td class="confluenceTd"><p>The time, in seconds, before initiating a batch</p></td></tr><tr><td class="confluenceTd"><p>scheduleronly</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Deprecated. See <code>usethreadpool</code> instead.</p></td></tr><tr><td class="confluenceTd"><p>usethreadpool</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>For any CDRs that are dispatched, use a thread pool thread to perform the dispatching. This prevents the CDR taskprocessor thread from being blocked by any CDR backends.</p></td></tr><tr><td class="confluenceTd"><p>safeshutdown</p></td><td class="confluenceTd"><p>Boolean</p></td><td class="confluenceTd"><p>Block Asterisk shutdown on dispatching of CDRs</p></td></tr></tbody></table></div><p> </p><p> </p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/22478894">CDR Flowchart</a> (application/gliffy+xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/24018945">CDR Lifetime</a> (application/gliffy+xml)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/24018946.png">CDR Lifetime.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/26279956">CDR Lifetime</a> (application/gliffy+json)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/26279957.png">CDR Lifetime.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/22478895">CDR Lifetime</a> (application/gliffy+json)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/22478896.png">CDR Lifetime.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/22088359/27328517.png">CDR Flowchart.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer">
                <section class="footer-body">
                    <p>Document generated by Confluence on Dec 20, 2013 14:14</p>
                </section>
            </div>
        </div>     </body>
</html>
