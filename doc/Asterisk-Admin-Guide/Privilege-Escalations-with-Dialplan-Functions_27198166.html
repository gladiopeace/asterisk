<!DOCTYPE html>
<html>
    <head>
        <title>Asterisk Project : Privilege Escalations with Dialplan Functions</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Asterisk Project</a></span>
                            </li>
                                                    <li>
                                <span><a href="Configuration-and-Operation_4260139.html">Configuration and Operation</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Asterisk Project : Privilege Escalations with Dialplan Functions
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                                                Added by  dlee , edited by  dlee  on Dec 06, 2013
                    </div>
                    <div id="main-content" class="wiki-content group">
                    <p>Dialplan functions within Asterisk are incredibly powerful, which is wonderful for building applications using Asterisk. Dialplan functions can be 'read' or 'written'. But during the read or write execution, certain diaplan functions do much more. For example, reading the <a href="Asterisk-12-Function_SHELL_26477068.html">SHELL()</a> function can execute arbitrary commands on the system Asterisk is running on. Writing to the <a href="Asterisk-12-Function_FILE_26477026.html">FILE()</a> function can change any file that Asterisk has write access to.</p><p>From the context of executing the dialplan defined in <code>extensions.conf</code>, this is not a problem. From other contexts, however, it could be a problem.</p><p>Channel variables can be get or set via external mechanisms (like <a href="Asterisk-12-ManagerAction_Getvar_26477128.html">AMI</a> or <a class="unresolved" href="#">ARI</a>), during which time dialplan functions are evaluated. These external protocols have permission levels associated with them, so the fact that executing a read on a certain function could effect a change on the system results in a <a href="http://en.wikipedia.org/wiki/Privilege_escalation" class="external-link" rel="nofollow">privilege escalation</a>.</p><p>In order to avoid this security issue, Asterisk can now inhibit the execution of privilege escalating functions from external protocols. These functions will continue to execute normally when invoked from the dialplan. For legacy configurations where the less secure behavior is desired, a new flag called <code>live_dangerously</code> has been added to <code>asterisk.conf</code>. When set to <code>yes</code>, Asterisk will allow privilege escalating functions to execute, even from external protocols.</p><p>For Asterisk 11 and earlier, in order to maintain backward compatibility, <code>live_dangerously</code> defaults to <code>no</code>. In Asterisk 12, that default was changed to <code>yes</code>.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer">
                <section class="footer-body">
                    <p>Document generated by Confluence on Dec 20, 2013 14:18</p>
                </section>
            </div>
        </div>     </body>
</html>
